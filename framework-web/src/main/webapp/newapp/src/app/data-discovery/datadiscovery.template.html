<app-breadcrumb [breadcrumbData]="breadcrumbDataFrom"></app-breadcrumb>
<br>
<div class="row">
  <div class="col-md-12">
    <div class="portlet light bordered" style="padding-bottom: 20px;">
      <div class="portlet-title" style="margin-bottom: 25px;">
        <div class="actions"></div>
        <div class="row">
          <label class="col-md-1" style="margin-top:6px;">Search:</label>
          <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
            <input type="text" class="form-control" [(ngModel)]="searchText">
          </div>
          <a style="float:right" class="reload btn btn-circle btn-icon-only btn-default" (click)="refersh()" pTooltip="Refersh"
            tooltipPosition="top">
            <i style="opacity: 0.5;"class="fa fa-refresh icon-circle" aria-hidden="true"></i>
          </a>
          <div class="col-lg-2 col-md-2 col-sm-2" style="float:right">
            <select class="form-control" [(ngModel)]="optiondata">
              <option *ngFor="let c of optionsort" [ngValue]="c.name">{{c.caption}}</option>
            </select>
          </div>
          <label class="col-md-1" style="margin-top:6px;float:right">Sort By:</label>
        </div>
      </div>
      <div class="portlet-body">
        <div class="centercontent" style="min-height:500px;" *ngIf="isEditError">
          <h3 style="font-size:14px;color:red;">Some Error Occur</h3>
        </div>
        <div class="centercontent" style="min-height:500px;" *ngIf="isEditInprogess">
          <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
          </div>
        </div>
        <div *ngIf="!isEditInprogess && !isEditError">
          <div class="row">
            <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12" *ngFor="let datadiscovry of locations | filter : searchText | orderBy : [optiondata]">
              <div class="cardshadow" style="height:152px;">
                <a (click)="onShowDetail($event, datadiscovry)">
                  <div class="dashboard-stat2" style="height:150px;">
                    <div class="display">
                      <div class="number">
                        <h3 style="text-align:left!important;" class="">
                          <span title="" data-counter="counterup" data-value="7800" style="font-size:22px; display:inline-block;width:190px;white-space: nowrap;overflow:hidden !important;text-overflow: ellipsis;"
                            class="font-{{datadiscovry.classColor}}">{{datadiscovry.title}}</span>
                          <small class=""></small>
                        </h3>
                        <small style="text-transform:lowercase;">{{datadiscovry.numRows}} records</small>
                      </div>
                      <div class="icon">
                        <i style="font-size:20px;" class=""></i>
                      </div>
                    </div>
                    <div class="progress-info">
                      <div class="progress">
                        <span style="width: 100%;" class="progress-bar progress-bar-success {{datadiscovry.classColor}}"></span>
                      </div>
                      <div class="status" style="padding-top:5px;">
                        <div class="status-title" style="text-transform:capitalize;padding-right:4px;">Data source:
                        </div>
                        <div title="" class="status-number" style="float:left;text-transform: lowercase;">{{datadiscovry.dataSource}}</div>
                      </div>
                      <div class="status" style="padding-top:15px;">
                        <span class="status-title" style="text-transform:capitalize;padding-right: 4px;">Last Updated
                          On:</span>
                        <div title="Last Update On" *ngIf='datadiscovry.lastUpdatedOn' class="status-number" style="float:left;">{{datadiscovry.lastUpdatedOn
                          | date :'MM-dd-yyyy'}}</div>
                        <div title="Last Update On" *ngIf='!datadiscovry.lastUpdatedOn' class="status-number" style="float:left;">N/A</div>
                      </div>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="right" style="float:right;margin-right: 15px">
            <pagination [boundaryLinks]="true" [totalItems]="totalItems" [(ngModel)]="currentPage" class="pagination-sm"
              previousText="&lsaquo;" (pageChanged)="pageChanged($event)" nextText="&rsaquo;" firstText="&laquo;"
              lastText="&raquo;"></pagination>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>