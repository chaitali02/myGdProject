<app-breadcrumb [breadcrumbData]="breadcrumbDataFrom"></app-breadcrumb>
<br>
<p-growl [(value)]="msgs"></p-growl>
<div notifybar style="position:fixed;top:40px;right:0;z-index:1000"></div>
<div class="row">
	<div class="col-md-12">
		<div class="portlet light bordered" id="form_wizard_1">
			<div class="portlet-title" style="margin-bottom:0px;">
				<div class="caption">
					<i class=" icon-layers "></i>
					<span class="caption-subject  bold ">Rules Wizard -
						<span class="step-title"> Step 1 of 4 </span>
					</span>
				</div>

				<!-- <div class="actions">
					<a class="btn btn-circle btn-icon-only btn-default " href="javascript:;" title="Edit" data-toggle="tooltip" data-placement="top"
					 tooltip [ngClass]="(showdag==true && isEdit==true)? 'currentpage':'notcurrentpage'" ng-hide="isAdd" data- (click)="enableEdit(dqdata.uuid,dqdata.version)"
					 *ngIf="mode">
						<i class="fa fa-edit" style="display: block;margin: 2px auto;color:#a0a0a0;"></i>
					</a>
					<a class="btn btn-circle btn-icon-only btn-default " href="javascript:;" title="View" data-toggle="tooltip" data-placement="top"
					 tooltip [ngClass]="(showdag==true && isEdit==false)? 'currentpage':'notcurrentpage'" ng-hide="isAdd" data- (click)="showview(dqdata.uuid,dqdata.version)"
					 *ngIf="mode">
						<i class="glyphicon glyphicon-file" style="display: block;margin: 2px auto;color:#a0a0a0;"></i>
					</a>
					<a class="btn btn-circle btn-icon-only btn-default" href="javascript:;" title="knowledge Graph" disabled="true" data-toggle="tooltip"
					 data-placement="top" tooltip ng-show="isDependencyShow" [ngClass]="showdag==false? 'currentpage':'notcurrentpage'" data-
					 (click)="showDagGraph(dqdata.uuid,dqdata.version)" *ngIf="mode">
						<i class="fa fa-sitemap" style="margin:2px auto;color:#a0a0a0;"></i>
					</a>
					<a href="javascript:;" class="reload btn btn-circle btn-icon-only btn-default " disabled="true" (click)="broadcastRefreshData()"
					 data-original-title="" title="">
						<i class="fa fa-refresh" aria-hidden="true" style="display: block;margin: 2px auto;color:#a0a0a0;"></i>
					</a>
					<a class="btn btn-circle btn-icon-only btn-default " (click)="goBack()">
						<i class="fa fa-times" style="margin: 2px auto;color:#a0a0a0;"></i>
					</a>
				</div> -->
				<div class="actions">
					<a class="btn btn-circle btn-icon-only btn-default " title="Main" data-placement="top" tooltip [ngClass]="(showdag==true && isEdit==true)? 'currentpage':'notcurrentpage'"
					   data- (click)="showMainPage(dqdata.uuid,dqdata.version)" *ngIf="mode && isHomeEnable">
					  <i class="fa fa-home" style="display: block;margin: 2px auto;color:#a0a0a0;"></i>
					</a>
		  
					<a class="btn btn-circle btn-icon-only btn-default linkDisabled " title="Main" data-placement="top" tooltip [ngClass]="(showdag==true && isEdit==true)? 'currentpage':'notcurrentpage'"
					   *ngIf="mode && !isHomeEnable">
					  <i class="fa fa-home" style="display: block;margin: 2px auto;color:#a0a0a0;"></i>
					</a>
		  
					<a class="btn btn-circle btn-icon-only btn-default " href="javascript:;" title="Edit" data-toggle="tooltip" data-placement="top"
					  tooltip [ngClass]="(showdag==true && isEdit==true)? 'currentpage':'notcurrentpage'" ng-hide="isAdd" data- (click)="enableEdit(dqdata.uuid,dqdata.version)"
					  *ngIf="mode == 'true'">
					  <i class="fa fa-edit" style="display: block;margin: 2px auto;color:#a0a0a0;"></i>
					</a>
		  
					<a class="btn btn-circle btn-icon-only btn-default linkDisabled" title="Edit" data-toggle="tooltip" data-placement="top"
					  tooltip [ngClass]="(showdag==true && isEdit==true)? 'currentpage':'notcurrentpage'" ng-hide="isAdd" 
					  *ngIf="mode == 'false'">
					  <i class="fa fa-edit" style="display: block;margin: 2px auto;color:#a0a0a0;"></i>
					</a>
		  
					<a class="btn btn-circle btn-icon-only btn-default" href="javascript:;" title="Show Dependencies" data-placement="top" tooltip
					*ngIf="mode" [ngClass]="showdag==false? 'currentpage':'notcurrentpage'" data- (click)="showDagGraph(dqdata.uuid,dqdata.version)">
					  <i class="fa fa-sitemap" style="margin:2px auto;color:#a0a0a0;"></i>
					</a>
		  
					<a href="javascript:;" class="reload btn btn-circle btn-icon-only btn-default " disabled="true" (click)="broadcastRefreshData()"
					  data-original-title="" title="Refresh">
					  <i class="fa fa-refresh" aria-hidden="true" style="display: block;margin: 2px auto;color:#a0a0a0;"></i>
					</a>
					<a class="btn btn-circle btn-icon-only btn-default" (click)="goBack()" title="Close">
					  <i class="fa fa-times" style="margin: 2px auto;color:#a0a0a0;"></i>
					</a>
				  </div>
			</div>
			<div class="portlet-body form">
				<div>
					<div class="form-wizard">
						<div class="form-body" style="padding-top: 20px;">
							<ul class="nav nav-pills nav-justified steps" style="margin-bottom:20px;">
								<li [ngClass]="{'active' : continueCount == 1,'done':continueCount>1}">
									<a class="step" aria-expanded="true">
										<span class="number"> 1 </span>
										<span class="desc">
											<i class="fa fa-check"></i> Rule Setup </span>
									</a>
								</li>
								<li [ngClass]="{'active' : continueCount == 2,'done':continueCount>2}">
									<a class="step">
										<span class="number"> 2 </span>
										<span class="desc">
											<i class="fa fa-check"></i> Rule Source
										</span>
									</a>
								</li>

								<li [ngClass]="{'active' : continueCount == 3,'done':continueCount>3}">
									<a class="step">
										<span class="number"> 3 </span>
										<span class="desc">
											<i class="fa fa-check"></i>Rule Attribute
										</span>
									</a>
								</li>
								<li [ngClass]="{'active' : continueCount == 4,'done':continueCount>4}">
									<a class="step">
										<span class="number"> 4 </span>
										<span class="desc">
											<i class="fa fa-check"></i>Rule Execute
										</span>
									</a>
								</li>

							</ul>
							<div id="bar" class="progress progress-striped" role="progressbar" style="height:10px;">
								<div class="progress-bar progress-bar-success" [style.width]="progressbarWidth"></div>
							</div>
							<div class="tab-content">
								<div class="tab-pane" id="tab1" [ngClass]="{'active' : continueCount == 1}">
									<form class="form-horizontal" name="myform" novalidate="novalidate">
										<div class="form-group" *ngIf="mode">
											<label class="col-md-3 control-label">UUID</label>
											<div class="col-md-6">
												<input type="text" class="form-control" [(ngModel)]="dqdata.uuid" name="uuid" placeholder="" [disabled]="true">
											</div>
										</div>
										<div class="form-group">
											<label class="col-md-3 control-label">Name
												<span class="required" aria-required="true"> * </span>
											</label>
											<div class="col-md-6">
												<input type="text" class="form-control" [(ngModel)]="dqdata.name" name="name" placeholder="" [disabled]="mode == 'true'">
											</div>
										</div>
										<div class="form-group" *ngIf="mode">
											<label class="col-md-3 control-label">Version </label>
											<div class="col-md-6">
												<p-dropdown [options]="VersionList" [(ngModel)]="selectedVersion" name="selectedVersion" dataKey="u_Id" [style]="{'width':'100%','padding':'3px'}"
												 [filter]="true" [disabled]="mode == 'false'" (onChange)="onVersionChange()">
												</p-dropdown>
											</div>
										</div>
										<div class="form-group" *ngIf="mode">
											<label class="col-md-3 control-label">CreatedBy</label>
											<div class="col-md-6" *ngIf="locations!=''">
												<input type="text" class="form-control" [disabled]="true" [(ngModel)]="createdBy" name="createdBy">
											</div>
										</div>
										<div class="form-group" *ngIf="mode">
											<label class="col-md-3 control-label">CreatedOn</label>
											<div class="col-md-6">
												<input type="text" class="form-control" [disabled]="true" [(ngModel)]="dqdata.createdOn" name="createdOn">
											</div>
										</div>
										<div class="form-group taginput">
											<label class="control-label col-md-3 col-sm-3 col-xs-12">Tags</label>
											<div class="col-md-6 col-sm-6 col-xs-12" *ngIf="locations!=''">
												<tag-input [(ngModel)]="tags" name="tags" [disable]="mode == 'true'" theme='bootstrap' style=" max-height: 40px;overflow-x: hidden;padding-left:5px; border: 1px solid #ccc;overflow-y: scroll; border-radius: 5px;"></tag-input>
											</div>
										</div>
										<div class="form-group">
											<label class="control-label col-md-3 col-sm-3 col-xs-12">Desc</label>
											<div class="col-md-6">
												<textarea [disabled]="mode == 'true'" [(ngModel)]="dqdata.desc" name="desc" class="form-control noresize " rows="2" style="resize:none;"></textarea>
											</div>
										</div>
										<div class="form-group">
											<label class="control-label col-md-3 col-sm-3 col-xs-12">Active</label>
											<div class="col-md-6 col-sm-6 col-xs-12">
												<div class="btn-group">
													<ui-switch [disabled]="mode == 'true' || mode == 'false'" [(ngModel)]="dqdata.active" name="active" [checked]="active" color="#32c5d2"
													 labelOn="Yes" labelOff="No"></ui-switch>
												</div>
											</div>
										</div>
										<div class="form-group">
											<label class="control-label col-md-3 col-sm-3 col-xs-12">Locked</label>
											<div class="col-md-6 col-sm-6 col-xs-12">
												<div class="btn-group">
													<ui-switch [disabled]="mode == 'true' || mode == 'false'" [(ngModel)]="dqdata.loacked" name="loacked" [checked]="loacked" color="#32c5d2"
													 labelOn="Yes" labelOff="No"></ui-switch>
												</div>
											</div>
										</div>
										<div class="form-group">
											<label class="control-label col-md-3 col-sm-3 col-xs-12">Published</label>
											<div class="col-md-6 col-sm-6 col-xs-12">
												<div class="btn-group">
													<ui-switch [disabled]="mode == 'true' || mode == 'false'" [(ngModel)]="dqdata.published " name="published" [checked]="published"
													 color="#32c5d2" labelOn="Yes" labelOff="No"></ui-switch>
												</div>
											</div>
										</div>

										<div class="row">
											<label class="control-label col-md-3"></label>
											<div class="col-md-4" style="padding-top: 2%;">
												<button type="submit" class="btn btn-outline green " (click)="countContinue()"> Continue
													<i class="fa fa-angle-right"></i>
												</button>
											</div>
										</div>
									</form>
								</div>
								<!-- End Tab1-->

								<!--Start Tab2-->
								<div class="tab-pane" id="tab2" [ngClass]="{'active' : continueCount == 2}">
									<form class="form-horizontal" name="myform2" id="submit_form2" (submit)="countContinue()" novalidate="novalidate">
										<div class="form-group">
											<label class="col-md-3 control-label">Source
												<span class="required" aria-required="true"> * </span>
											</label>
											<div class="col-md-2">
												<select class="form-control" [(ngModel)]="source" name="source" [disabled]="mode == 'true'" (change)="changeType()">
													<option *ngFor="let app of sources" [ngValue]="app">{{app}} </option>
												</select>
											</div>

											<label class="col-md-1 control-label"> Name
												<span class="required" aria-required="true"> * </span>
											</label>
											<div class="col-md-3">
												<p-dropdown [options]="allNames" [(ngModel)]="sourcedata" name="sourcedata" dataKey="uuid" [disabled]="mode == 'true'" [style]="{'width':'100%','padding':'3px'}"
												 [filter]="true" (onChange)="changeSourceType()">
												</p-dropdown>
											</div>
										</div>
										<div class="form-group">
											<label class="col-md-3 control-label">Parameter List
												<span class="required" aria-required="true"> * </span>
											</label>
											<div class="col-md-6">
												<p-dropdown [options]="allParameterList" [(ngModel)]="selectParameterlist" name="sourcedata" dataKey="uuid" [disabled]="mode == 'true'"
												 [style]="{'width':'100%','padding':'3px'}" [filter]="true" (onChange)="changeParamertLsitType()">
												</p-dropdown>
											</div>
										</div>

										<div class="portlet light bordered">
											<div class="portlet-title">
											  <div class="caption">
												Filter
											  </div>
											</div>
											<div class="portlet-body form">
											  <div class="x_title" style="padding:10px;">
												<button type="Button" class="clickRemoveFilter btn btn-danger fa fa-minus pull-right" (click)="removeRow()" [disabled]="mode == 'true'"></button>
												<button type="Button" class="clickAddFilter btn btn-success fa fa-plus pull-right" (click)="addRow()" [disabled]="mode == 'true'"></button>
											  </div>
											  <br>
											  <div class="form-body" style="padding-top:50px;">
												<table class=" row-border hover table  table-striped table-bordered" >
												  <thead>
													<tr>
													  <th style="width:5%;text-align: center; Vertical-align: middle;">
														<input [disabled]="mode == 'true'" style="width: 16px;height:16px;" type="checkbox" [(ngModel)]="checkAll" name="checkAll"
														  (click)="checkAllFilterRow()" />
													  </th>
													  <th style="text-align: center; Vertical-align: middle;width:5%;">Logical Operator</th>
													  <th style="text-align: center;width:15%;">LHS Type</th>
													  <th style="text-align: center;width:20%;">LHS Attribute</th>
													  <th style="text-align: center;width:15%;">Operator</th>
													  <th style="text-align: center;width:15%;">RHS Type</th>
													  <th style="text-align: center;width:18%;">RHS Attribute</th>
													  <th class="text-center" style="width:12%;">Move</th>
													</tr>
												  </thead>
												  <tbody>
													<tr *ngFor="let data of dqdata.filterTableArray ;let i=index"
													pDraggable="cars"
													(onDragStart)="dragStart($event,i)" (onDragEnd)="dragEnd($event)" pDroppable="cars" 
													(onDrop)="drop($event,i)">
					  
													  <td style="text-align:center;Vertical-align:middle;">
														<input style="width: 16px;height:16px;" type="checkbox" [(ngModel)]="data.selected" name="selected" [disabled]="mode == 'true'"
														/>
													  </td>
													  <td>
														<p-dropdown [options]="logicalOperators" [(ngModel)]="data.logicalOperator" name="logicalOperator+{{i}}" [style]="{'width':'100%','padding':'3px'}"
														  [disabled]="i === 0 || mode == 'true'" [filter]="true" placeholder="--Select--">
														</p-dropdown>
													  </td>
													  <td>
														<p-dropdown [options]="lhsTypeArray" [(ngModel)]="data.lhsType" name="lhsType+{{i}}" [style]="{'width':'100%','padding':'3px'}"
														  [disabled]="mode == 'true'" [filter]="true" (onChange)="onChangeLhsType(i)" placeholder="--Select--">
														</p-dropdown>
													  </td>
													  <td>
														<input type="text" class="form-control" [(ngModel)]="data.lhsAttribute" name="lhsAttribute+{{i}}" pTooltip="enter only integer"
														  tooltipPosition="top" [disabled]="mode == 'true'" [style]="{'width':'100%','padding':'3px'}"
														  *ngIf="data.lhsType == 'integer'" placeholder="-enter integer value-">
														<input type="text" class="form-control" [(ngModel)]="data.lhsAttribute" name="lhsAttribute+{{i}}" pTooltip="enter values into single quotes"
														  tooltipPosition="top" tooltipEvent="focus" [disabled]="mode == 'true'" [style]="{'width':'100%','padding':'3px'}"
														  *ngIf="data.lhsType == 'string'" placeholder="-enter string-">
														<div *ngIf="data.lhsType == 'formula'">
														  <p-dropdown [options]="lhsFormulaArray" [(ngModel)]="data.lhsAttribute" name="lhsAttribute+{{i}}" [style]="{'width':'200px','padding':'3px'}"
															[disabled]="mode == 'true'" [filter]="true" placeholder="--Select--">
														  </p-dropdown>
														</div>
														<div *ngIf="data.lhsType == 'datapod'">
														  <p-dropdown [options]="attributesArray" [(ngModel)]="data.lhsAttribute" name="lhsAttribute+{{i}}" [style]="{'width':'200px','padding':'3px'}"
															[disabled]="mode == 'true'" [filter]="true" placeholder="--Select--" datakey="label">
														  </p-dropdown>
														</div>
													  </td>
													  <td>
														<p-dropdown [options]="operators" [(ngModel)]="data.operator" name="operator+{{i}}" [style]="{'width':'100%','padding':'3px'}"
														  [disabled]="mode == 'true'" [filter]="true" placeholder="--Select--" (onChange)="onChangeOperator(i)">
														</p-dropdown>
													  </td>
													  <td>
														<select class="form-control" [(ngModel)]="data.rhsType" name="rhsType+{{i}}" style="width:100%" (click)="onChangeRhsType(i)"
														  [disabled]="mode == 'true'" placeholder="--Select--">
														  <ng-container *ngIf="data.operator !== 'BETWEEN' && data.operator !== 'EXISTS' && data.operator !== 'NOT EXISTS' && data.operator !== 'IN' && data.operator !== 'NOT IN' && data.operator !== 'IS'  ">
															<option [ngValue]="rhsTypeArray[0].value">{{rhsTypeArray[0].label}}</option>
															<option [ngValue]="rhsTypeArray[1].value">{{rhsTypeArray[1].label}}</option>
															<option [ngValue]="rhsTypeArray[2].value">{{rhsTypeArray[2].label}}</option>
															<option [ngValue]="rhsTypeArray[3].value">{{rhsTypeArray[3].label}}</option>
															<option [ngValue]="rhsTypeArray[4].value" disabled>{{rhsTypeArray[4].label}}</option>
															<option [ngValue]="rhsTypeArray[5].value">{{rhsTypeArray[5].label}}</option>
															<option [ngValue]="rhsTypeArray[6].value">{{rhsTypeArray[6].label}}</option>
														  </ng-container>
					  
														  <ng-container *ngIf="data.operator == 'BETWEEN'">
															<option [ngValue]="rhsTypeArray[0].value">{{rhsTypeArray[0].label}}</option>
															<option [ngValue]="rhsTypeArray[1].value">{{rhsTypeArray[1].label}}</option>
															<option [ngValue]="rhsTypeArray[2].value" disabled>{{rhsTypeArray[2].label}}</option>
															<option [ngValue]="rhsTypeArray[3].value" disabled>{{rhsTypeArray[3].label}}</option>
															<option [ngValue]="rhsTypeArray[4].value" disabled>{{rhsTypeArray[4].label}}</option>
															<option [ngValue]="rhsTypeArray[5].value" disabled>{{rhsTypeArray[5].label}}</option>
															<option [ngValue]="rhsTypeArray[6].value" disabled>{{rhsTypeArray[6].label}}</option>
														  </ng-container>
					  
														  <ng-container *ngIf="data.operator == 'EXISTS' || data.operator == 'NOT EXISTS'">
															<option [ngValue]="rhsTypeArray[0].value" disabled>{{rhsTypeArray[0].label}}</option>
															<option [ngValue]="rhsTypeArray[1].value" disabled>{{rhsTypeArray[1].label}}</option>
															<option [ngValue]="rhsTypeArray[2].value" disabled>{{rhsTypeArray[2].label}}</option>
															<option [ngValue]="rhsTypeArray[3].value" disabled>{{rhsTypeArray[3].label}}</option>
															<option [ngValue]="rhsTypeArray[4].value">{{rhsTypeArray[4].label}}</option>
															<option [ngValue]="rhsTypeArray[5].value" disabled>{{rhsTypeArray[5].label}}</option>
															<option [ngValue]="rhsTypeArray[6].value" disabled>{{rhsTypeArray[6].label}}</option>
														  </ng-container>
					  
														  <ng-container *ngIf="data.operator == 'IN' || data.operator == 'NOT IN' ">
															<option [ngValue]="rhsTypeArray[0].value">{{rhsTypeArray[0].label}}</option>
															<option [ngValue]="rhsTypeArray[1].value">{{rhsTypeArray[1].label}}</option>
															<option [ngValue]="rhsTypeArray[2].value">{{rhsTypeArray[2].label}}</option>
															<option [ngValue]="rhsTypeArray[3].value">{{rhsTypeArray[3].label}}</option>
															<option [ngValue]="rhsTypeArray[4].value">{{rhsTypeArray[4].label}}</option>
															<option [ngValue]="rhsTypeArray[5].value">{{rhsTypeArray[5].label}}</option>
															<option [ngValue]="rhsTypeArray[6].value">{{rhsTypeArray[6].label}}</option>
														  </ng-container>
					  
														  <ng-container *ngIf="data.operator == 'IS' ">
															<option [ngValue]="rhsTypeArray[0].value">{{rhsTypeArray[0].label}}</option>
															<option [ngValue]="rhsTypeArray[1].value" disabled>{{rhsTypeArray[1].label}}</option>
															<option [ngValue]="rhsTypeArray[2].value" disabled>{{rhsTypeArray[2].label}}</option>
															<option [ngValue]="rhsTypeArray[3].value" disabled>{{rhsTypeArray[3].label}}</option>
															<option [ngValue]="rhsTypeArray[4].value" disabled>{{rhsTypeArray[4].label}}</option>
															<option [ngValue]="rhsTypeArray[5].value" disabled>{{rhsTypeArray[5].label}}</option>
															<option [ngValue]="rhsTypeArray[6].value" disabled>{{rhsTypeArray[6].label}}</option>
														  </ng-container>
														</select>
													  </td>
													  <td>
														<input type="text" class="form-control" [(ngModel)]="data.rhsAttribute" name="rhsAttribute+{{i}}" [disabled]="mode == 'true'"
														  *ngIf="data.rhsType == 'integer'&& data.operator != 'BETWEEN'" placeholder="-enter integer value-">
														<input type="text" class="form-control" [(ngModel)]="data.rhsAttribute" name="rhsAttribute+{{i}}" [disabled]="mode == 'true'"
														  *ngIf="data.rhsType == 'string'&& data.operator != 'BETWEEN' && data.operator != 'IS'"
														  placeholder="-enter string-">
														<div *ngIf="data.operator == 'BETWEEN' && (data.rhsType == 'integer'|| data.rhsType == 'string')">
														  <input type="text" class="form-control" [(ngModel)]="data.rhsAttribute1" name="rhsAttribute1+{{i}}" style="width:30%;display: inline-block"
															[disabled]="mode == 'true'" placeholder="--Select--"> {{"-"}}
														  <input type="text" class="form-control" [(ngModel)]="data.rhsAttribute2" name="rhsAttribute2+{{i}}" style="width:30%;display: inline-block"
															[disabled]="mode == 'true'" placeholder="--Select--">
														</div>
														<div *ngIf="data.rhsType == 'formula'">
														  <p-dropdown [options]="rhsFormulaArray" [(ngModel)]="data.rhsAttribute" name="rhsAttribute+{{i}}" [style]="{'width':'200px','padding':'3px'}"
															[disabled]="mode == 'true'" [filter]="true" placeholder="--Select--">
														  </p-dropdown>
														</div>
														<div *ngIf="data.rhsType == 'datapod'">
														  <p-dropdown [options]="attributesArray" [(ngModel)]="data.rhsAttribute" name="rhsAttribute+{{i}}" [style]="{'width':'200px','padding':'3px'}"
															[disabled]="mode == 'true'" [filter]="true" placeholder="--Select--" datakey="attributeId">
														  </p-dropdown>
														</div>
														<div *ngIf="data.rhsType == 'dataset'">
														  <input type="text" class="form-control" [(ngModel)]="data.rhsAttribute.label" name="rhsAttribute+{{i}}" [disabled]="'true'"
															style="width:80%;display: inline-block">
														  <i class="fa fa-search" (click)="searchOption(i)" style="width:10%;display:inline-block" pTooltip="Search"></i>
														</div>
														<div *ngIf="data.rhsType == 'function'">
														  <p-dropdown [options]="functionArray" [(ngModel)]="data.rhsAttribute" name="rhsAttribute+{{i}}" [style]="{'width':'200px','padding':'3px'}"
															[disabled]="mode == 'true'" [filter]="true" placeholder="--Select--" dataKey="uuid">
														  </p-dropdown>
														</div>
														<div *ngIf="data.rhsType == 'paramlist'">
														  <p-dropdown [options]="paramlistArray" [(ngModel)]="data.rhsAttribute" name="rhsAttribute+{{i}}" [style]="{'width':'200px','padding':'3px'}"
															[disabled]="mode == 'true'" [filter]="true" placeholder="--Select--" dataKey="uuid">
														  </p-dropdown>
														</div>
					  
														<div *ngIf="data.rhsType == 'string' && data.operator == 'IS'">
														  <p-dropdown [options]="isNullArray" [(ngModel)]="data.rhsAttribute" name="rhsAttribute+{{i}}" [style]="{'width':'200px','padding':'3px'}"
															[disabled]="mode == 'true'" [filter]="true" placeholder="--Select--">
														  </p-dropdown>
														</div>
					  
														<p-dialog header="Search Attribute" [(visible)]="displayDialogBox" [modal]="true" [responsive]="true" [width]="400" [resizable]="true"
														  [baseZIndex]="1000" [contentStyle]="{'height':'200px'}">
					  
														  <div class="form-group">
															<label class="control-label col-md-3 col-sm-3 col-xs-12">Select</label>
															<div class="col-md-6 col-sm-6 col-xs-12">
															  <p-dropdown [options]="dialogAttriArray" [(ngModel)]="dialogSelectName" name="dialogSelectName+{{i}}" [style]="{'width':'200px','padding':'3px'}"
																[disabled]="mode == 'true'" [filter]="true" placeholder="--Select--" (onChange)="onChangeDialogAttribute() "
																dataKey="uuid">
															  </p-dropdown>
															</div>
														  </div>
					  
														  <div>
															<div class="form-group">
															  <label class="control-label col-md-3 col-sm-3 col-xs-12">Name</label>
															  <div class="col-md-6 col-sm-6 col-xs-12">
																<p-dropdown [options]="dialogAttriNameArray" [(ngModel)]="dialogAttributeName" name="dialogAttributeName+{{i}}" [style]="{'width':'200px','padding':'3px'}"
																  [disabled]="mode == 'true'" [filter]="true" placeholder="--Select--" dataKey="uuid">
																</p-dropdown>
															  </div>
															</div>
														  </div>
														  <p-footer>
															<div style="padding-top: 10px;">
															  <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
																<a class="btn btn-primary" (click)="cancelDialogBox()">Cancel</a>
																<input type="button" class="btn btn-success" value="Submit" name="submit" (click)="submitDialogBox(i)">
															  </div>
															</div>
														  </p-footer>
														</p-dialog>
													  </td>
													  <td>
														<span class="form-group" style="margin-left:0px;margin-right: 0px;">
														  <div style="text-align: center;">
															<a class="move-column" [attr.disabled]="(i == 0 || mode == 'true') ?'disabled' : null" (click)="onFilterRowUp(i)">
															  <!-- <i class="glyphicon glyphicon-arrow-up"></i> -->
															  <i class="glyphicon glyphicon-circle-arrow-up" style="font-size:20px"></i>
															</a>
															<a class="move-column" [attr.disabled]="(i == dqdata.filterTableArray.length-1 ||mode == 'true') ? 'disabled' : null" (click)="onFilterRowDown(i)">
															  <!-- <i class="glyphicon glyphicon-arrow-down"></i> -->
															  <i class="glyphicon glyphicon-circle-arrow-down	" style="font-size:20px"></i>
															</a>
														  </div>
														</span>
													  </td>
													</tr>
												  </tbody>
												</table>
											  </div>
											</div>
										  </div>

										<div class="row">
											<label class="control-label col-md-3"></label>
											<div class="col-md-4" style="padding-top: 2%;">
												<a href="javascript:;" class="btn default button-previous" (click)="countBack()">
													<i class="fa fa-angle-left"></i> Back
												</a>
												<button type="submit" class="btn btn-outline green "> Continue
													<i class="fa fa-angle-right"></i>
												</button>
											</div>
										</div>
									</form>
								</div>
								<!--End Tab2-->

								<!-- Start Tab3 -->
								<div class="tab-pane" id="tab3" [ngClass]="{'active' : continueCount == 3}">
									<form class="form-horizontal" name="myform2" id="submit_form2" (submit)="countContinue()" novalidate="novalidate">
										<div class="portlet light bordered">
											<div class="portlet-title">
												<div class="caption">
													<span class="caption-subject  sbold ">Attribute</span>
												</div>
												<div class="actions">
														<a class="btn btn-circle btn-icon-only btn-default" [attr.disabled]="mode == 'true'?'disabled' : null" (click)="autoPopulate()" tooltip-placement="top"
															uib-tooltip="Auto Populate">
															<span class="fa fa-map-signs" aria-hidden="true" style="color:#a0a0a0;"></span>
														</a>
	
													</div>
											</div>
											<div class="portlet-body">
													<div class="row">
															<div class="col-md-6" style="padding:0px;">
															</div>
															<div class="col-md-6">
																	<div class="x_title" style="padding:10px;">
																			<button type="Button" class="clickRemoveFilter btn btn-danger fa fa-minus pull-right" (click)="removeAttribute()" [disabled]="mode == 'true'"></button>
																			<button type="Button" class="clickAddFilter btn btn-success fa fa-plus pull-right" (click)="addAttribute()" [disabled]="mode == 'true'"></button>
																		</div>
															</div>
														</div>
														<br>
												<div>
													<table class=" row-border hover table  table-striped table-bordered" style="table-layout:fixed;">
														<thead>
															<tr>
																<th style="width:5%;text-align: center; Vertical-align: middle;">
																	<input [disabled]="mode == 'true'" style="width: 16px;height:16px;" type="checkbox" [(ngModel)]="selectAllAttributeRow" name="selectAllAttributeRow"
																	 (click)="checkAllAttributeRow()" />
																</th>
																<th style="text-align: center; Vertical-align: middle;width:10%;">ID</th>
																<th style="text-align: center;width:25%;">Name</th>
																<th style="text-align: center;width:25%;">Source Type</th>
																<th style="text-align: center;width:25%;">Source Name</th>
																<th class="text-center" style="width:10%;">Move</th>
															</tr>
														</thead>
														<tbody>
															<tr *ngFor="let data of attributeTableArray;let i=index"
															pDraggable="cars1"
															(onDragStart)="dragAttrStart($event,i)" (onDragEnd)="dragAttrEnd($event)" pDroppable="cars1" 
															(onDrop)="dropAttr($event,i)">
																<td style="text-align:center;Vertical-align:middle;">
																	<input style="width: 16px;height:16px;" type="checkbox" [(ngModel)]="data.selected" name="selectedAttr+{{i}}" [disabled]="mode == 'true'"
																	/>
																</td>
																<td style="width:10%;">
																	<input style="text-align:center;" type="text" [value]="i" name="id[i]" [disabled]="true" class="form-control">
																	<td>
																		<input type="text" class="form-control" [(ngModel)]="data.name" title="{{data.name}}" name="name+{{i}}" [disabled]="mode == 'true'">
																	</td>
																	<td>
																		<select class="form-control" [(ngModel)]="attributeTableArray[i].sourceAttributeType.text" (change)="onChangeSourceAttribute(attributeTableArray[i].sourceAttributeType.text,i)"
																		 name="sourceAttributeType+{{i}}" [disabled]="mode == 'true'">
																			<option *ngFor="let app of sourceAttributeTypes" [ngValue]="app.text">{{app.label}}</option>
																		</select>
																	</td>
																	<td>
																		<input type="text" class="form-control" [(ngModel)]="attributeTableArray[i].sourcesimple" name="sourcesimple+{{i}}" *ngIf="attributeTableArray[i].isSourceAtributeSimple"
																		 [disabled]="mode == 'true'">
																		<div *ngIf="attributeTableArray[i].isSourceAtributeDatapod">
																			<p-dropdown [options]="allSourceAttribute" [(ngModel)]="attributeTableArray[i].sourceattribute" name="sourceattribute+{{i}}"
																			 dataKey="u_Id" [disabled]="mode == 'true'" [style]="{'width':'100%','padding':'3px'}" [filter]="true"
																			 (onChange)="onChangeAttributeDatapod(attributeTableArray[i].sourceattribute,i)">
																			</p-dropdown>
																		</div>

																		<div *ngIf="attributeTableArray[i].isSourceAtributeFormula">
																			<p-dropdown [options]="allFormula" [(ngModel)]="attributeTableArray[i].sourceformula" name="sourceformula+{{i}}" dataKey="u_Id"
																			 [disabled]="mode == 'true'" [style]="{'width':'100%','padding':'3px'}" [filter]="true">
																			</p-dropdown>
																		</div>

																		<div *ngIf="attributeTableArray[i].isSourceAtributeExpression">
																			<p-dropdown [options]="allExpression" [(ngModel)]="attributeTableArray[i].sourceexpression" name="sourceexpression+{{i}}"
																			 dataKey="u_Id" [disabled]="mode == 'true'" [style]="{'width':'100%','padding':'3px'}" [filter]="true">
																			</p-dropdown>
																		</div>
																		<div *ngIf="attributeTableArray[i].isSourceAtributeFunction">
																			<p-dropdown [options]="allFunction" [(ngModel)]="attributeTableArray[i].sourcefunction" name="sourcefunction+{{i}}" dataKey="u_Id"
																			 [disabled]="mode == 'true'" [style]="{'width':'100%','padding':'3px'}" [filter]="true">
																			</p-dropdown>
																		</div>
																	</td>
																	<td>
																			<span class="form-group" style="margin-left:0px;margin-right: 0px;">
																				<div style="text-align: center;">
																				<a class="move-column" [attr.disabled]="(i == 0 || mode == 'true') ?'disabled' : null" (click)="onAttrRowUp(i)">
																					<!-- <i class="glyphicon glyphicon-arrow-up"></i> -->
																					<i class="glyphicon glyphicon-circle-arrow-up" style="font-size:20px"></i>
																				</a>
																				<a class="move-column" [attr.disabled]="(i == attributeTableArray.length-1 ||mode == 'true') ? 'disabled' : null" (click)="onAttrRowDown(i)">
																					<!-- <i class="glyphicon glyphicon-arrow-down"></i> -->
																					<i class="glyphicon glyphicon-circle-arrow-down	" style="font-size:20px"></i>
																				</a>
																				</div>
																			</span>
																			</td>
															</tr>
														</tbody>
													</table>
												</div>
											</div>
										</div>

										<div class="row">
											<label class="control-label col-md-3"></label>
											<div class="col-md-4" style="padding-top: 2%;">
												<a href="javascript:;" class="btn default button-previous" (click)="countBack()">
													<i class="fa fa-angle-left"></i> Back
												</a>
												<button type="submit" class="btn btn-outline green "> Continue
													<i class="fa fa-angle-right"></i>
												</button>
											</div>
										</div>
									</form>
								</div>
								<!-- End Tab3-->

								<!-- Start Tab4 -->
								<div class="tab-pane" id="tab4" [ngClass]="{'active' : continueCount == 4}">
									<form class="form-horizontal" name="myform4" id="submit_form4" novalidate="novalidate">
										<div class="form-group">
											<label class="control-label col-md-3 col-sm-3 col-xs-12">Run Immediately ?</label>
											<div class="col-md-6 col-sm-6 col-xs-12">
												<p-checkbox [(ngModel)]="checkboxModelexecution" [disabled]="mode == 'true' " name="checkboxModelexecution" binary="true"
												 (onChange)="changeCheckboxExecution()"></p-checkbox>
											</div>
										</div>
										<div *ngIf="isShowExecutionparam">
											<div class="form-group">
												<label class="control-label col-md-3 col-sm-3 col-xs-12" for="select">Parameter Set</label>
												<div class="col-md-6">
													<select class="form-control" [(ngModel)]="paramsetdata" (change)="onSelectparamSet()" name="sourceAttributeType" [disabled]="mode == 'true'">
														<option value="" style="color:red;">USE DEFAULT VALUE</option>
														<option *ngFor="let app of allParameterset" [ngValue]="app">{{app.name}}</option>
													</select>
												</div>
											</div>
											<div *ngIf="isTabelShow" style="overflow-x: auto;">
												<table class=" row-border hover table  table-striped table-bordered">
													<thead>
														<tr>
															<th style="text-align:center;Vertical-align: middle;width:5%;">
																<input [disabled]="mode == 'true'" style="width: 16px;height:16px;" type="checkbox" [(ngModel)]="selectallattribute" name="selectAllAttributeRow"
																 (click)="selectAllRow()">
															</th>
															<th style="width:6%;text-align:center">ID</th>
															<th class="text-center" *ngFor=" let tablecol of paramtablecol">{{tablecol.paramName}}</th>
														</tr>
													</thead>
													<tbody>
														<tr *ngFor=" let tabledata of paramtable; let i=index">
															<td style="text-align:center;Vertical-align:middle;width:5%;">
																<input style="width: 16px;height:16px;" type="checkbox" [(ngModel)]="tabledata.selected" name="selectedAttr+{{i}}" [disabled]="mode == 'true'"
																/>
															</td>
															<td style="width:6%;">
																<input type="text" class="form-control" [(ngModel)]="tabledata.paramSetId" name="paramSetId+{{i}}" [disabled]="true">

															</td>
															<td style="width:20%;" *ngFor=" let tablecol of tabledata.paramSetVal;let j=index">
																<input type="text" class="form-control" [(ngModel)]="tablecol.value" name="value+{{tablecol.value}}" [disabled]="true">
																<!-- <input type="text"([ngModel])="tablecol.value" name="{{tablecol.value}}" [disabled]="true" class="form-control"> -->
															</td>
														</tr>
													</tbody>
												</table>
											</div>
										</div>
										<div class="row">
											<label class="control-label col-md-3"></label>
											<div class="col-md-4" style="padding-top: 2%;">
												<a href="javascript:;" class="btn default button-previous" (click)="countBack()">
													<i class="fa fa-angle-left"></i> Back
												</a>
												<button type="submit" class="btn green" [disabled]="mode == 'true' || isSubmit == 'true'" (click)="ruleSubmit()">Submit</button>
												<span class="spinner" style="padding-left:15px;font-size:23px;vertical-align:middle;" *ngIf="isSubmit=='true'">
													<div class="bounce1"></div>
													<div class="bounce2"></div>
													<div class="bounce3"></div>
												</span>
											</div>
										</div>
									</form>
								</div>
								<!-- End Tab4-->
							</div>
							<!--End tab-content-->
						</div>
						<!--End form-body-->
						<div class="form-actions">
						</div>
					</div>
					<!--End form-wizard-->
				</div>
			</div>
		</div>
	</div>
</div>